# 요약

객체 지향의 목표는 현실세계의 모방이 아닌 신세계의 창조다. 소프트웨어 개발이란 고객과 사용자를 만족시키는 신세계를 창조하는 것이다. 그러나 현실세계로 비유하여 학습하는 이유는 객체 지향의 다양한 측면을 학습하는데 효과적이기 때문이다.

## 협력하는 사람들

커피 주문을 협력하여 해결하기

1. 손님: 커피를 주문한다.
2. 캐시어: 주문을 받는다.
3. 바리스타: 커피를 제조한다.

### 협력

협력은 도움 받을 사람에게 요청(request)한다. 요청 후 주어진 책임을 다하여 응답(response)한다.

```text
[손님] (요청) 커피를 주문한다 → [캐시어] (요청) 커피를 제조하라 → [바리스타]
        ← (응답) 커피 완성                ← (응답) 커피 완성
```

### 역할과 책임

역할은 어떤 협력에 참여하는 사람이 협력안에서 차지하는 책임이나 의무를 의미한다.

> 여러 사람이 동일한 역할을 수행할 수 있다

손님은 커피만 마실수 있으면 캐시어가 주문을 어떻게 받는지 중요하지 않다. 캐시어는 자신이 전달한 커피 주문만 제조할 수 있으면 어떻게 제조하는지 상관 없다. 다른 손님/캐시어로 바뀌어도 역할의 수행에는 변함이 없다.

> 역할은 대체 가능성을 의미한다

손님 입장에서 캐시어는 대체 가능(substitutable)하다. 요청자 입장에서 둘 중 어떤 사람이 역할을 수행하더라도 문제가 되지 않는다.

> 책임을 수행하는 방법은 자율적으로 선택할 수 있다

커피를 만드는 제조 방법은 바리스타의 역할이다. 바리스타마다 고유한 특색과 방법으로 커피를 제조할 수 있다.

동일한 커피 요청에도 다른 방식으로 응답할 수 있는 능력을 다형성(polymorphism)이라고 한다.

> 한 사람이 동시에 여러 역할을 수행할 수 있다

한 사람이 캐시어와 바리스타의 역할을 동시에 수행하는 것도 가능하다.

## 역할, 책임, 협력

**객체지향 설계는 적절한 객체에게 적절한 책임을 할당하는 것이다.** 책임은 객체지향 설계의 품질을 결정하는 요소다.

- 여러 객체가 동일한 역할을 수행할 수 있다.
- 역할은 대체 가능성을 의미한다.
- 각 객체는 책임을 수행하는 방법을 자율적으로 선택할 수 있다.
- 하나의 객체가 동시에 여러 역할을 수행할 수 있다.

## 협력 속에 사는 객체

객체는 애플리케이션의 기능을 구현하기위해 존재한다. 작은 기능부터 복잡하고 어려운 큰 기능까지 다른 객체와의 협력을 통해 구현하게 된다. 협력의 품질을 결정하는 것은 곧 객체의 품질이다.

> 객체는 협력적이어야 한다

1. 다른 객체의 도움(요청)에 귀를 기울일 줄 알아야 한다.
2. 다른 객체에게 도움을 요청할 줄 아는 태도를 가져야 한다.

나 혼자 북치고 장구치고 다하는 객체는 스스로의 복잡함에 자멸한다.

> 객체는 자율적이어야 한다

1. 객체는 수동적이지도 않고 다른 객체에 대해 복종하지도 않는다.
2. 객체는 스스로의 원칙을 가지고 통제하는 자율적인 존재다.

캐시어는 손님이 주문하면 행동을 시작하지만, 손님에게 음료를 주문하는 절차와 바리스타에게 접수내역을 전달하는 방법은 스스로 결정한다.

### 상태와 행동을 함께 가진 자율적인 객체

객체가 협력에 참여하기 위해 어떤 행동을 한다면 행동을 하는데 필요한 상태도 함께 가지고 있어야 한다. 스스로 판단하고 결정하는 자율적인 독립체로 남기 위해선 객체는 필요한 행동과 상태를 함께 필요하게된다.

객체의 자율성은 객체가 사적으로 가지는 부분을 스스로 관리하고 외부의 간섭에 차단해야 한다. **객체는 다른 객체가 무엇을 수행하는지는 알 수 있지만 어떻게 수행하는지에 대해서는 알 수 없다.**

### 협력과 메시지

객체는 협력을 위해 다른 객체에게 메시지를 전송(sender)하고 다른 객체로부터 메시지를 수신(receiver)한다.

### 메소드와 자율성

객체는 다른 객체와 협력하기 위해 메시지를 전송한다. 수신자는 송신자의 메시지를 해석하고 자신만의 방법으로 메시지를 처리한다. 이 처리 방법을 메소드라고한다.

- 커피 제조 요청: 메시지
- 커피를 제조하는 방법: 메소드

외부의 요청이 무엇인지 표현하는 메시지와 요청을 처리하기 위한 구체적인 방법인 메소드를 분리하는 것은 객체의 자율성을 높이는 메커니즘이다.

## 객체지향의 본질

- 객체 지향이란 시스템을 상호작용하는 자율적인 객체들의 공동체로 바라보고 객체를 이용해 시스템을 분할하는 방법이다.
- 자율적인 객체란 `상태`와 `행위`를 함께 가지고 스스로 자신을 책임지는 객체를 말한다.
- 객체는 시스템의 행위를 구현하기 위해 다른 객체와 `협력`한다. 협력 내에서 각 객체는 정해진 `역할`을 수행한다.
- 객체는 다른 객체와 협력하기 위해 메시지를 전송하고, `메시지`를 수신한 객체는 메시지를 처리하는 데 적합한 `메소드`를 자율적으로 선택한다.

### 객체를 지향하라

클래스는 객체지향 프로그램의 구성요소이다. 클래스 자체가 객체지향을 의미하지 않는다.

훌륭한 객체 지향 설계자의 시작은 **어떤 객체들이 어떤 메시지를 주고받으며 협력하는가**의 사고를 중심으로 가져오는 것이다.
