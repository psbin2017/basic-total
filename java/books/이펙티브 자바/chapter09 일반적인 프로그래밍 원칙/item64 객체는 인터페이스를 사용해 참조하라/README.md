# ✨ 아이템 64: 객체는 인터페이스를 사용해 참조하라

적합한 인터페이스만 있다면 매개변수뿐 아니라 반환 값, 변수, 필드를 전부 인터페이스 타입으로 선언하라.

`Set<Integer> intSet = new LinkedHashSet<>();` 처럼 인터페이스 타입을 사용하였다. 인터페이스 타입으로 사용하는 습관을 길러두면 프로그램이 훨씬 유연해질 것이다.

단, 주의할 점이 있다. 기존 클래스가 인터페이스 일반 규약 이외의 특별한 기능을 제공하며, 주변 코드가 이 기능에 기대에 동작한다면 새로운 클래스도 반드시 같은 기능을 제공해야 한다.

`LinkedHashSet` 에서 `HashSet` 으로 바꾸면 순서 보장을 하지 않기 때문에 순서를 사용하는 코드에 문제가 발생할 것이다.

구현 타입을 바꾸려하는 동기는 원래의 것보다 성능이 좋아졌거나 새로운 기능을 제공할 수 있기 때문이다. 물론 적합한 인터페이스가 없다면 당연히 클래스로 참조해야 한다.

`String`, `BigInteger` 와 같은 값 클래스가 그렇다. 이 경우 final 인 경우가 많고 상응하는 인터페이스가 별도로 존재하는 경우가 드물다. 이런 경우는 매개변수, 변수, 필드, 반환 타입으로 사용해도 무방하다.

클래스 기반으로 작성된 프레임워크가 제공하는 객체도 클래스 참조에 해당한다. 보통 구현 클래스 보다는 일반적으로 추상 클래스인 기반 클래스를 참조하는게 좋다.

마지막 부류로는 인터페이스에는 없는 특별한 메소드를 제공하는 클래스다. `PriorityQueue` 클래스는 `Queue` 인터페이스에 없는 `comparator` (순서)를 제공한다.

실전에서는 주어진 객체를 표현할 적절한 인터페이스가 있는지 찾아서 그 인터페이스를 참조하면 유연하고 세련된 프로그램을 만들 수 있을 것이다. 적합한 인터페이스가 없다면 클래스의 계층구조 중 필요한 기능을 만족하는 가장 덜 구체적인 클래스 타입을 사용하자.
