# 💎 4장: 클래스와 인터페이스

추상화의 기본 단위인 클래스와 인터페이스는 자바 언어의 심장과도 같다. 이 요소를 적절히 활용하기 위해 견고하고 유연한 클래스와 인터페이스를 만드는 방법에 대해 알아본다.

## 접근 제한자

- `private`: 멤버를 선언한 톱레벨 클래스에서만 접근 할 수 있다.
- `package-private`: 멤버가 소속된 패키지 안의 모든 클래스에 접근 할 수 있다. 접근 제한자를 명시하지 않았을때 적용되는 접근 수준이다. (`default`)
- `protected`: `package-private` 를 포함하며, 이 멤버를 선언한 클래스의 하위 클래스에도 접근할 수 있다.
- `public`:  모든 곳에 접근할 수 있다.

## 불변 클래스

> 인스턴스 내부의 값을 수정할 수 없는 객체

- 객체 상태를 변경하는 메소드를 제공하지 않는다.
- 클래스를 확장할 수 없도록 한다. (대표적인 방법은 final 로 클래스를 만드는 것)
- 모든 필드를 final 로 선언한다. (새로 생성된 인스턴스를 동기화없이 다른 스레드에 건네도 동작하게끔 보장해야 함)
- 모든 필드를 private 로 선언한다. (기본 타입 필드나 불변 객체를 참조하는 필드를 public final 로 선언해도 불변 객체가 되지만 다음 릴리즈에서 내부 표현을 변경할 수 없음)
- 자신 외에는 내부의 가변 컴포넌트에 접근할 수 없도록 한다. (클래스 내부에서 가변 객체를 참조하는 필드가 있으면 클라이언트가 해당 참조를 얻지 못하도록 해야하며, 필요하다면 방어적 복사를 수행해야 함)

## 인터페이스

- 인터페이스 > 추상 클래스: 상속으로 인한 계층구조 해소, 그 외 추상 골격 구현 응용 등
- 설계시 구현하는 쪽을 고려해서 설계
- 인터페이스는 타입 정의 용도

## 그외

- 컴포지션: 구현 상속시 발생하는 문제를 해소하는 방법
- 문서화: 상속의 위험을 감소시키는 방법
- 중첩 클래스: 상황에 따라 내부 중첩 클래스의 형태를 생각하여 구현
