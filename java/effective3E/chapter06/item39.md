# π’ 6μ¥: μ—΄κ±° νƒ€μ…κ³Ό μ• λ„ν…μ΄μ…

μλ°”μ—λ” νΉμν• λ©μ μ 2 κ°€μ§€μ μ°Έμ΅°νƒ€μ…μ΄ μ΅΄μ¬ν•λ‹¤. ν΄λμ¤μ μΌμΆ…μΈ μ—΄κ±° νƒ€μ…(Enum Type)κ³Ό μΈν„°νμ΄μ¤μ μΌμΆ…μΈ μ• λ„ν…μ΄μ…(Annontation)μ΄λ‹¤. μ΄ νƒ€μ…λ“¤μ„ μ¬λ°”λ¥΄κ² μ‚¬μ©ν•λ” λ°©λ²•μ„ ν•™μµν•λ‹¤.

## β¨ μ•„μ΄ν… 39: λ…λ… ν¨ν„΄λ³΄λ‹¤ μ• λ„ν…μ΄μ…μ„ μ‚¬μ©ν•λΌ

λ…λ… ν¨ν„΄μ λ‹¨μ 

- μ¤νƒ€κ°€ λ‚λ©΄ μ•λλ‹¤. (test : tset)
- μ¬λ°”λ¥Έ ν”„λ΅κ·Έλ¨ μ”μ†μ—λ§ μ‚¬μ©λλ¦¬λ€ λ³΄μ¦μ΄ μ—†λ‹¤. (λ…λ… μλ„μμ™€λ” λ‹¤λ¥΄κ² μ μ© λ“±)
- ν”„λ΅κ·Έλ¨ μ”μ†λ¥Ό λ§¤κ°λ³€μλ΅ μ „λ‹¬ν•  λ§λ•…ν• λ°©λ²•μ΄ μ—†λ‹¤.

## `@Retention`

[API DOC](https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/RetentionPolicy.html)

νΉμ • μ‹μ μ— μ–΄λ…Έν…μ΄μ…μ λ©”λ¨λ¦¬λ¥Ό κ°€μ Έκ°μ§€ λ²”μ„λ¥Ό μ§€μ •ν•λ‹¤.

| `RetentionPolicy` | μ„¤λ… | μ»΄νμΌ κ²°κ³Ό |
| --- | --- | --- |
| `SOURCE` | μ»΄νμΌ μ „μ— μ°Έμ΅°κ°€ κ°€λ¥ν•λ‹¤. | μ–΄λ…Έν…μ΄μ…μ΄ class νμΌμ— μ κ±°λ¨ |
| `CLASS` | μ»΄νμΌλ¬κ°€ ν΄λμ¤λ¥Ό μ°Έμ΅°ν• λ• κ°€λ¥ν•λ‹¤. | μ–΄λ…Έν…μ΄μ…μ΄ class νμΌμ— ν¬ν•¨λ¨. λ‹¨ λ°νƒ€μ„μ—μ„ μ‚¬μ©ν•  μ μ—†λ‹¤. (κΈ°λ³Έκ°’) |
| `RUNTIME` | μ»΄νμΌμ΄ν›„μ—λ„ μ°Έμ΅°κ°€ κ°€λ¥ν•λ‹¤. | μ–΄λ…Έν…μ΄μ…μ΄ class νμΌμ— ν¬ν•¨λ¨ |

## `@Target`

[API DOC](https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html)

μ–΄λ…Έν…μ΄μ…μ μ„μΉλ¥Ό μ •ν•  μ μλ‹¤.

| `ElementType` | μ„¤λ… |
| --- | --- |
| `ANNONTATION_TYPE` | μ–΄λ…Έν…μ΄μ… |
| `CONSTRUCTOR` | μƒμ„±μ |
| `FIELD` | λ©¤λ²„ λ³€μ |
| `LOCAL_VARIABLE` | μ§€μ—­ λ³€μ |
| `METHOD` | λ©”μ†λ“ |
| `PACKAGE` | ν¨ν‚¤μ§€ |
| `TYPE` | νƒ€μ… |
| `TYPE_PARAMETER` | λ§¤κ°λ³€μ |
| `TYPE_USE` | νƒ€μ… μ‚¬μ©μ‹ |

## μμ 

[ExceptionTestSample.java](https://github.com/psbin2017/garbage-collection/blob/master/gc/src/test/java/com/collection/gc/sample/enums/annontation/ExceptionTestSample.java)

```java
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.METHOD)
public @interface ExceptionTest {
    Class<? extends  Throwable>[] value();
}
```

μ–΄λ…Έν…μ΄μ…μ„ μ„ μ–Έν•μ—¬ λ°μƒν• μμ™Έλ¥Ό λ°›μ•„ μ²λ¦¬ν•  μ μλ‹¤.

## `@Repeatable`

λ°°μ—΄ λ§¤κ°λ³€μλ¥Ό μ‚¬μ©ν•λ” λ€μ‹  `@Repeatable` λ©”νƒ€ μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•  μ μλ‹¤. λ‹¨ μ£Όμν•  μ μ΄ μλ‹¤.

1. `@Repeatable` μ–΄λ…Έν…μ΄μ…μ„ λ°ν™ν•λ” μ»¨ν…μ΄λ„ μ–΄λ…Έν…μ΄μ…μ„ μ •μν•κ³  `@Repeatable` μ— μ΄ μ»¨ν…μ΄λ„ μ–΄λ…Έν…μ΄μ…μ class κ°μ²΄λ¥Ό λ§¤κ°λ³€μλ΅ μ „λ‹¬ν•΄μ•Όν•λ‹¤.
2. μ»¨ν…μ΄λ„ μ–΄λ…Έν…μ΄μ…μ€ λ‚΄λ¶€ μ–΄λ…Έν…μ΄μ… νƒ€μ…μ λ°°μ—΄μ„ λ°ν™ν•λ” value λ©”μ†λ“λ¥Ό μ •μν•΄μ•Όν•λ‹¤.
3. μ»¨ν…μ΄λ„ μ–΄λ…Έν…μ΄μ… νƒ€μ…μ—λ” μ μ ν• λ³΄μ΅΄ μ •μ±…(`@Retention`)κ³Ό μ μ© λ€μƒ(`@Target`)μ„ λ…μ‹ν•΄μ•Ό ν•λ‹¤.

μ–΄λ…Έν…μ΄μ…μΌλ΅ λ…λ… ν¨ν„΄λ³΄λ‹¤ λ‚μ€μ μ„ ν™•μ‹¤ν λ³΄μ—¬μ¤€λ‹¤. μΌλ° ν”„λ΅κ·Έλλ¨Έκ°€ μ–΄λ…Έν…μ΄μ… νƒ€μ…μ„ μ§μ ‘ μ •μν• μΌμ€ κ±°μ μ—†μ§€λ§ μλ°” ν”„λ΅κ·Έλλ¨ΈλΌλ©΄ μλ°”κ°€ μ κ³µν•λ” μ–΄λ…Έν…μ΄μ… νƒ€μ…λ“¤μ€ μ‚¬μ©ν•΄μ•Όν•λ‹¤. μ΄λ” IDE κ°€ μ½”λ“ μ§„λ‹¨ μ •λ³΄μ ν’μ§ κ°μ„ μ— λ„μ›€μ΄ λλ‹¤.
