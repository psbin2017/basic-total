# 💎 2장 객체의 생성과 파괴

학습 내용 출처: [이펙티브 자바 3판](http://ebook.insightbook.co.kr/book/66)

본 챕터의 공통 주제는 다음과 같다.

1. 객체를 만들어야할 때와 만들지 않아야 할 때에 대한 구분
2. 올바른 객체 생성 방법
3. 불필요한 객체 생성을 피하는 방법
4. 객체의 파괴를 보장하며 객체 파괴 이전에 수행해야 할 작업을 관리하는 방법

## ✨ 아이템 8: finalizer 와 cleaner 사용을 피하라

finalizer 는 예측할 수 없고 상황에 따라 위험할 수 있어 불필요하며, cleaner 는 상대적으로 덜 위험하지만, 예측할수 없을 만큼 느리고 불필요하다. 둘 다 제때 실행되어야 하는 작업은 절대 할 수 없으며, 전적으로 가비지 컬렉터 알고리즘에 작업 속도가 결정된다.

쉬운 대안으로는 `AutoCloseable` 을 구현하여 클라이언트에서 인스턴스를 다 사용하고 나면 close 를 호출하면 된다. (try-with-resources)

`finalizer/cleaner` 의 사용 방법

- 자원의 소유자가 close 메소드를 호출하지 않는 것에 대비한 안전망 역할
- 네이티브 피어와 연결된 객체, 네이티브 피어란? 자바 객체가 네이티브 메서드를 통해 기능을 위임한 네이티브 객체를 말한다. 네이티브 피어는 자바 객체가 아니기 때문에 가비지 컬렉터는 그 존재를 알지 못하고 회수할 수 없다. 이를 대신 나서서 처리하기에 적합하다. 단, 성능 저하를 감수하고 중대한 자원이 아닐 경우를 권장한다. (나머지 경우는 close() )
