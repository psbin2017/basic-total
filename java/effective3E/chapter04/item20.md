# π’ 4μ¥: ν΄λμ¤μ™€ μΈν„°νμ΄μ¤

ν•™μµ λ‚΄μ© μ¶μ²: [μ΄ν™ν‹°λΈ μλ°” 3ν](http://ebook.insightbook.co.kr/book/66)

μ¶”μƒν™”μ κΈ°λ³Έ λ‹¨μ„μΈ ν΄λμ¤μ™€ μΈν„°νμ΄μ¤λ” μλ°” μ–Έμ–΄μ μ‹¬μ¥κ³Όλ„ κ°™λ‹¤. μ΄ μ”μ†λ¥Ό μ μ ν ν™μ©ν•κΈ° μ„ν•΄ κ²¬κ³ ν•κ³  μ μ—°ν• ν΄λμ¤μ™€ μΈν„°νμ΄μ¤λ¥Ό λ§λ“λ” λ°©λ²•μ— λ€ν•΄ μ•μ•„λ³Έλ‹¤.

## β¨ μ•„μ΄ν… 20: μ¶”μƒ ν΄λμ¤λ³΄λ‹¤λ” μΈν„°νμ΄μ¤λ¥Ό μ°μ„ ν•λΌ

- μ¶”μƒ ν΄λμ¤ : κµ¬ν„μ²΄λ” λ°λ“μ‹ ν•μ„ ν΄λμ¤λ΅ μΆ…μ†λλ‹¤.
- μΈν„°νμ΄μ¤ : μ–΄λ–¤ ν΄λμ¤λ¥Ό μƒμ†ν•΄λ„ κ°™μ€ νƒ€μ…μΌλ΅ μ·¨κΈ‰λλ‹¤.

κΈ°μ΅΄ ν΄λμ¤ μ„μ— μ¶”μƒ ν΄λμ¤λ¥Ό λΌμ› λ„£λ”λ‹¤λ” κ²ƒμ€ μΌλ°μ μΌλ΅ μ–΄λ µμ§€λ§, μΈν„°νμ΄μ¤λ” κµ¬ν„ν•κΈ° μ‰½λ‹¤. λ”ν•μ—¬ μ¶”μƒ ν΄λμ¤λ¥Ό μƒμ†μ‹ λ¨λ“  μμ†μ΄ μ΄λ¥Ό μƒμ†ν•κ² λλ”λ° ν•„μ”μΉ μ•μ€ λ¨λ“  μƒν™©μ—μ„λ„ κ°•μ λλ‹¤λ” μλ―Έμ΄λ‹¤.

## λ―Ήμ¤μΈ

μΈν„°νμ΄μ¤λ” *μ£Όλ νƒ€μ…* μ™Έμ—λ„ νΉμ • μ„ νƒμ  ν–‰μ„λ¥Ό νΌν•©ν•μ—¬ μ κ³µν•λ‹¤λ” μλ―ΈμΈ **λ―Ήμ¤μΈ(mixin)** μ •μμ— μ•μ„±λ§μ¶¤μ΄λ‹¤. μ¶”μƒ ν΄λμ¤κ°€ λ¶κ°€λ¥ν• μ΄μ λ” ν΄λμ¤λ” λ‹¨μΌ μƒμ†λ§ μ§€μ›ν•κΈ° λ•λ¬Έμ΄λ‹¤.

μΈν„°νμ΄μ¤λ” ν„μ‹¤μ—μ„ κ³„μΈµμ„ μ—„κ²©ν κµ¬λ¶„ν•κΈ° μ–΄λ ¤μ΄ κ°λ…κ³Ό κ°™μ€ λ‚΄μ©μ„ ν•΄κ²° κ°€λ¥ν• κ³„μΈµκµ¬μ΅°κ°€ μ—†λ” νƒ€μ… ν”„λ μ„μ›ν¬λ¥Ό λ§λ“¤ μ μλ‹¤. [SingerSongWriter](https://github.com/psbin2017/garbage-collection/blob/master/gc/src/test/java/com/collection/gc/sample/interfaces/SingerSongWriter.java)

μ΄ μ •λ„μ μ μ—°μ„±μ΄ ν•­μƒ ν•„μ”ν• κ²ƒμ€ μ•„λ‹μ§€λ§ μ΄λ ‡κ² λ§λ“  μΈν„°νμ΄μ¤κ°€ κ²°μ •μ  μƒν™©μ— λ„μ›€μ„ μ¤„ μ μλ‹¤. λ™μΌν• κµ¬μ΅°λ¥Ό ν΄λμ¤λ΅ λ§λ“¤λ ¤λ©΄ μ΅°ν•© κ°€λ¥ν• μΌ€μ΄μ¤ μ „λ¶€λ¥Ό κ°κ° ν΄λμ¤λ΅ μ •μν• κ³ λ„λΉ„λ§ κ³„μΈµκµ¬μ΅°κ°€ λ§λ“¤μ–΄μ§„λ‹¤. μ§€μ›ν•΄μ•Όν•λ” μ΅°ν•©μ κ°μλ” 2^n κ°λ‚ λλ‹¤.

## λ””ν΄νΈ λ©”μ†λ“

λ””ν΄νΈ λ©”μ†λ“λ΅ κµ¬ν„ν•μ—¬ ν”„λ΅κ·Έλλ¨Έμ μΌκ°μ„ λμ–΄μ¤„ μ μλ‹¤. `@impleSpec` μΌλ΅ λ¬Έμ„ν™”ν•΄μ•Όν•λ©° `Object` λ©”μ†λ“λ¥Ό λ””ν΄νΈ λ©”μ†λ“λ΅ μ κ³µν•΄μ„λ” μ•λλ‹¤. μΈμ¤ν„΄μ¤ ν•„λ“λ¥Ό κ°€μ§ μ μ—†κ³  public μ΄ μ•„λ‹ μ •μ  λ©¤λ²„λ„ κ°€μ§ μ μ—†λ‹¤. (λ‹¨, private μ •μ  λ©”μ„λ“λ” μμ™Έ)

## μ¶”μƒ κ³¨κ²© κµ¬ν„

μΈν„°νμ΄μ¤μ™€ μ¶”μƒ κ³¨κ²© κµ¬ν„ ν΄λμ¤λ¥Ό μ κ³µν•μ—¬ μΈν„°νμ΄μ¤μ™€ μ¶”μƒν΄λμ¤μ μ¥μ μ„ λ¨λ‘ κ°€μ§€λ” λ°©λ²•λ„ μλ‹¤. μΈν„°νμ΄μ¤λ” νƒ€μ…μ„ μ •μν•κ³ , κ³¨κ²© κµ¬ν„ ν΄λμ¤λ΅ λ‚λ¨Έμ§€ λ©”μ†λ“λ¥Ό κµ¬ν„ν•λ‹¤. μ΄λ ‡κ² ν•λ©΄ κ³¨κ²© κµ¬ν„ ν΄λμ¤λ¥Ό ν™•μ¥ν•λ” κ²ƒμΌλ΅ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” λ° ν•„μ”ν• μΌμ΄ λ€λ¶€λ¶„ μ™„λ£λλ‹¤. μ΄λ” μ‹λ®¬λ μ΄νΈν• λ‹¤μ¤‘ μƒμ†(simulated multiple inheritance)μ΄λΌ ν•λ‹¤. [FishBreadMachine](https://github.com/psbin2017/garbage-collection/blob/master/gc/src/test/java/com/collection/gc/sample/interfaces/FishBreadMachine.java)

## λ‹¨μ κµ¬ν„

κ³¨κ²© κµ¬ν„μ λ³€μΆ…μΌλ΅ AbstractMap.SimpleEntity κ°€ μΆ‹μ€ μμ΄λ‹¤. μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ©° μ¶”μƒ ν΄λμ¤λ¥Ό μ‘μ„±ν•μ§€ μ•μ•λ‹¤. μ‰½κ² λ§ν•΄ μΈν„°νμ΄μ¤μ λ‹¨μ κµ¬ν„μ΄λ‹¤.
