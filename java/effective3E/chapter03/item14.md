# ğŸ’ 3ì¥: ëª¨ë“  ê°ì²´ì˜ ê³µí†µ ë©”ì„œë“œ

í•™ìŠµ ë‚´ìš© ì¶œì²˜: [ì´í™í‹°ë¸Œ ìë°” 3íŒ](http://ebook.insightbook.co.kr/book/66)

ëª¨ë“  í´ë˜ìŠ¤ëŠ” ì¬ì •ì˜ë¥¼ ì—¼ë‘ì— ë‘ê³  ì„¤ê³„ëœ ê²ƒìœ¼ë¡œ ì¬ì •ì˜ ì‹œì¼œì•¼ í•˜ëŠ” ì¼ë°˜ ê·œì•½ì´ ëª…í™•íˆ ì •ì˜ë˜ì–´ìˆë‹¤. ë”°ë¼ì„œ ì¬ì •ì˜ì‹œ ì´ ê·œì•½ì„ ì¤€ìˆ˜í•˜ì—¬ ì¬ì •ì˜í•´ì•¼í•œë‹¤.

## âœ¨ ì•„ì´í…œ 14: Comparable ì„ êµ¬í˜„í• ì§€ ê³ ë ¤í•˜ë¼

3ì¥ì—ì„œ ë‹¤ë£¬ ë©”ì†Œë“œë“¤ê³¼ ë‹¤ë¥´ê²Œ `Comparable` ì˜ `compareTo()` ëŠ” `Object` ì˜ ë©”ì†Œë“œê°€ ì•„ë‹ˆë‹¤. ë¬¼ë¡  2ê°€ì§€ ì„±ê²©ì„ ë¹¼ë©´ `equals()` ì™€ ê°™ë‹¤.

- `compareTo()` ëŠ” ë™ì¹˜ì„± ë¹„êµ ë¿ë§Œ ì•„ë‹ˆë¼ ìˆœì„œê¹Œì§€ ë¹„êµí•œë‹¤.
- `compareTo()` ëŠ” ì œë„¤ë¦­í•˜ë‹¤.

`Comparable` ì„ êµ¬í˜„í•˜ì˜€ë‹¤ëŠ” ê²ƒì€ í•´ë‹¹ í´ë˜ìŠ¤ì˜ ìì—°ì ì¸ ìˆœì„œê°€ ìˆë‹¤ëŠ” ê²ƒì„ ëœ»í•œë‹¤. ê·œì•½ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

```text
ì´ ê°ì²´ì™€ ì£¼ì–´ì§„ ê°ì²´ì˜ ìˆœì„œë¥¼ ë¹„êµí•œë‹¤. ì´ ê°ì²´ê°€ ì£¼ì–´ì§„ ê°ì²´ë³´ë‹¤ ì‘ìœ¼ë©´ **ìŒì˜ ì •ìˆ˜**, ê°™ìœ¼ë©´ **0**, í¬ë‹¤ë©´ **ì–‘ì˜ ì •ìˆ˜**ë¥¼ ë°˜í™˜í•œë‹¤. ë¹„êµí•  ìˆ˜ ì—†ëŠ” ê°ì²´ íƒ€ì…ì´ ì£¼ì–´ì§€ë©´ ClassCastException ì„ ë˜ì§„ë‹¤.

ëª¨ë“  x,y ì— ëŒ€í•˜ì—¬ sgn(x.compareTo(y)) == -sgn(y.compareTo(x)) (ìˆœì„œë¥¼ ë³´ì¥í•´ì•¼í•¨ì„ ì˜ë¯¸)

x.compareTo(y) > 0 && y.compareTo(z) > 0 ë¼ë©´ x.compareTo(z) > 0 ì´ë‹¤. (ìˆœì„œì˜ ì¶”ì´ì„±)

x.compareTo(y) == 0 ì´ë©´ sgn(x.compareTo(z)) == sgn(y.compareTo(z)) ì´ë‹¤. (í¬ê¸°ê°€ ê°™ìœ¼ë©´ í•­ìƒ ê°™ì•„ì•¼í•¨ì„ ì˜ë¯¸)

(x.compareTo(y) == 0) == (x.equals(y)) ì—¬ì•¼ í•˜ë©°, ì¤€ìˆ˜í•˜ì§€ ëª»í•œê²½ìš° í•´ë‹¹ ì‚¬ì‹¤ì„ ëª…ì‹œí•´ì•¼í•œë‹¤.
```

í´ë˜ìŠ¤ì— í•µì‹¬ í•„ë“œê°€ ì—¬ëŸ¬ ê°œë¼ë©´ ì–´ëŠ ê²ƒì„ ë¹„êµí•˜ëŠëƒê°€ ì¤‘ìš”í•˜ë‹¤. ê°€ì¥ í•µì‹¬ì ì¸ í•„ë“œë¶€í„° ìˆœì„œëŒ€ë¡œ ë¹„êµí•´ë‚˜ê°€ì. compareTo ë©”ì†Œë“œì—ì„œ í•„ë“œê°’ì„ ë¹„êµí•  ë•Œ `<` ì™€ `>` ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ì„  ì•ˆëœë‹¤. ëŒ€ì‹  ë°•ì‹±ëœ ê¸°ë³¸ íƒ€ì… í´ë˜ìŠ¤ê°€ ì œê³µí•˜ëŠ” ì •ì  compare ë©”ì†Œë“œë‚˜ Comparator ì¸í„°í˜ì´ìŠ¤ê°€ ì œê³µí•˜ëŠ” ë¹„êµì ìƒì„± ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì.

```java
public int compareTo(PhoneNumber pn) {
    int result = Short.compare(areaCode, pn.areaCode);
    if ( result == 0 ) {
        result = Short.compare(prefix, pn.prefix);
        if ( result == 0 ) {
            result = Short.compare(lineNum, pn.lineNum);
        }
    }
    return result;
}
```

ìë°”8 ì—ì„œëŠ” ê°„ê²°í•˜ì§€ë§Œ ì•½ê°„ ì„±ëŠ¥ì˜ ì €í•˜ê°€ ìˆëŠ” ê¹”ë”í•œ êµ¬ë¬¸ì´ìˆë‹¤.

```java
private static final Comparator<PhoneNumber> COMPARATOR = comparingInt((PhoneNumber pn) -> pn.areaCode)
                                                                .thenComparingInt(pn -> pn.prefix)
                                                                .thenComparingInt(pn -> pn.lineNum);

public int compareTo(PhoneNumber pn) {
    return COMPARATOR.compare(this, pn);
}
```

ë‹¤ë¥¸ í”„ë¦¬ë¯¸í‹°ë¸Œ íƒ€ì…ì„ ì»¤ë²„í•˜ë©°, ê°ì²´ ì°¸ì¡°ìš© ë¹„êµì ìƒì„± ë©”ì„œë“œë„ ì¤€ë¹„ë˜ì–´ìˆë‹¤.
