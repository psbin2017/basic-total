# 카프카 사용 이유

소스 애플리케이션과 타겟 애플리케션의 결합도를 줄이는 데에 시작한다.

# 용어 사전

## 프로듀서 : Producer

데이터를 제공하는 제공자 역할을 하는 애플리케이션이다.

## 컨슈머 : Consumer

데이터를 소비하는 소비자 역할을 하는 애플리케이션이다.

## 토픽 : Topic

데이터가 저장되는 공간으로 프로듀서가 데이터를 제공하고 컨슈머가 데이터를 소비하는 공간이 된다.

## 파티션 : Partition

토픽의 저장되는 공간을 분할 할 수 있는데 이를 파티션이라고 한다. 파티션은 0 번부터 시작하며 키를 가질 수 있다.

- 키가 null 이고 기본 파티셔너로 동작: 라운드 로빈으로 데이터를 저장
- 키가 있고 기본 파티셔너로 동작: 키 값으로 해시코드 값을 결정해 저장되는 파티션을 결정

## 레코드 : Record

파티션에 저장되는 "데이터" 를 말한다.

## 브로커 : Broker

카프카가 설치되어어 있는 "서버" 를 말한다.

## 리플리케이션 : Replication

N 개의 브로커를 구성하여 파티션을 "복제" 하여 저장하는 방식을 말한다.

## ISR : In-Sync-Replication

N 개의 브로커를 리플리케이션으로 파티션을 구성하여 레코드가 동기화되는 상태를 말한다.

## ACK

ISR 상태의 파티션에 대해 프로듀서가 레코드를 전달할 때 파티션에게 응답을 받을지의 대한 Flag 값이다.

## 파티셔너 : Partitioner

프로듀서가 레코드를 전송하면 반드시 거치는 곳을 파티셔너라고 하며 파티셔너는 전송받은 파티션의 저장 위치를 결정하는 역할을 담당한다.

## 컨슈머 랙 : Consumer Lag

> 프로듀서의 오프셋 - 컨슈머의 오프셋 = 컨슈머 랙

여러 개의 컨슈머 랙 중 가장 편차가 큰 랙을 가리켜 레코드 랙 맥스라고 한다.